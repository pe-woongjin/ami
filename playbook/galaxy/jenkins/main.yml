- name: Install jenkins
  hosts: all
  become: true

  pre_tasks:
    - include_vars: "../env_vars/vars.yml"

  vars:
    jenkins_http_port: "{{ jenkins.jenkins_http_port }}"
    jenkins_plugins:
      - ace-editor
      - ant
      - antisamy-markup-formatter
      - apache-httpcomponents-client-4-api
      - authentication-tokens
      - bouncycastle-api
      - branch-api
      - build-timeout
      - cloudbees-folder
      - command-launcher
      - conditional-buildstep
      - config-file-provider
      - credentials-binding
      - credentials
      - display-url-api
      - docker-commons
      - docker-workflow
      - durable-task
      - email-ext
      - git-client
      - git-server
      - git
      - github-api
      - github-branch-source
      - github
      - gitlab-plugin
      - gradle
      - handlebars
      - jackson2-api
      - javadoc
      - jdk-tool
      - jquery-detached
      - jsch
      - junit
      - ldap
      - lockable-resources
      - mailer
      - mapdb-api
      - matrix-auth
      - matrix-project
      - maven-plugin
      - momentjs
      - pam-auth
      - parameterized-trigger
      - pipeline-build-step
      - pipeline-github-lib
      - pipeline-graph-analysis
      - pipeline-input-step
      - pipeline-milestone-step
      - pipeline-model-api
      - pipeline-model-declarative-agent
      - pipeline-model-definition
      - pipeline-model-extensions
      - pipeline-rest-api
      - pipeline-stage-step
      - pipeline-stage-tags-metadata
      - pipeline-stage-view
      - plain-credentials
      - resource-disposer
      - run-condition
      - scm-api
      - script-security
      - ssh-agent
      - ssh-credentials
      - ssh-slaves
      - structs
      - subversion
      - timestamper
      - token-macro
      - trilead-api
      - workflow-aggregator
      - workflow-api
      - workflow-basic-steps
      - workflow-cps-global-lib
      - workflow-cps
      - workflow-durable-task-step
      - workflow-job
      - workflow-multibranch
      - workflow-scm-step
      - workflow-step-api
      - workflow-support
      - ws-cleanup
  roles:
    - role: geerlingguy.jenkins
